<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./img/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./img/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./img/favicon-16x16.png"
    />
    <link rel="manifest" href="/img/site.webmanifest" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./css/scrollbar.css" />
    <title>洛羽柒·云溪</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="#HOME">洛羽柒·云溪</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="#HMCL-Update">HMCL</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#MCUUID">MCUUID</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#QQNickName">QQNickName</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="container">
      <div id="HOME" class="page active">
        <!-- 首页 页面内容 -->
        <div class="blank-space"></div>
        <p>本站建于2023.07.21，主要集成了几个不知道有没有用的小工具</p>
        <p>
          洛羽柒主站：<a href="https://luoyu7.yokinanya.icu"
            >https://luoyu7.yokinanya.icu/</a
          >
        </p>
        <p>
          博客：<a href="https://blog.yokinanya.icu"
            >https://blog.yokinanya.icu</a
          >
        </p>
      </div>
      <div id="HMCL-Update" class="page">
        <!-- HMCL-Update 页面内容 -->
        <div class="blank-space"></div>
        <div class="alert alert-info" role="alert">
          本网站用于维护
          <a href="https://hmcl.huangyuhui.net/">HMCL</a> 更新文件下载
          CDN，同时提供一个非官方更新源。
        </div>
        <div class="row">
          <div class="col-sm-6 mb-3 mb-sm-0">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">稳定版</h5>
                <div class="alert alert-primary" role="alert">
                  一般用户请下载Windows版本
                </div>
                <p class="card-text">
                  <small
                    class="text-body-secondary"
                    id="stable-version"
                  ></small>
                </p>
                <p class="card-text">
                  <small
                    class="text-body-secondary"
                    id="stable-sha1-exe"
                  ></small>
                </p>
                <p class="card-text">
                  <small
                    class="text-body-secondary"
                    id="stable-sha1-jar"
                  ></small>
                </p>
                <a id="stable-exe" href="#" class="btn btn-primary"
                  >Windows (exe)</a
                >
                <a id="stable-jar" href="#" class="btn btn-primary"
                  >Linux/MacOS (jar)</a
                >
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">开发版</h5>
                <div class="alert alert-primary" role="alert">
                  一般用户请下载Windows版本
                </div>
                <p class="card-text">
                  <small class="text-body-secondary" id="dev-version"></small>
                </p>
                <p class="card-text">
                  <small class="text-body-secondary" id="dev-sha1-exe"></small>
                </p>
                <p class="card-text">
                  <small class="text-body-secondary" id="dev-sha1-jar"></small>
                </p>
                <a id="dev-exe" href="#" class="btn btn-primary"
                  >Windows (exe)</a
                >
                <a id="dev-jar" href="#" class="btn btn-primary"
                  >Linux/MacOS (jar)</a
                >
              </div>
            </div>
          </div>
        </div>
        <div class="blank-space"></div>
        <p style="text-align: center">
          <a href="#HMCL-History">查看历史版本</a>
        </p>
        <div class="blank-space"></div>
        <script src="./js/hmcl-update.js"></script>
      </div>

      <div id="HMCL-History" class="page">
        <div class="blank-space"></div>
        <div class="inside-container">
          <h1>HMCL历史版本</h1>
          <div class="blank-space"></div>
          <h2>稳定版</h2>
          <table class="table">
            <thead>
              <tr>
                <th>Version</th>
                <th>Download (exe)</th>
                <th>SHA1 (exe)</th>
                <th>Download (jar)</th>
                <th>SHA1 (jar)</th>
              </tr>
            </thead>
            <tbody id="stable-versions"></tbody>
          </table>
          <div class="blank-space"></div>
          <h2>开发版</h2>
          <table class="table">
            <thead>
              <tr>
                <th>Version</th>
                <th>Download (exe)</th>
                <th>SHA1 (exe)</th>
                <th>Download (jar)</th>
                <th>SHA1 (jar)</th>
              </tr>
            </thead>
            <tbody id="dev-versions"></tbody>
          </table>
        </div>
        <div class="blank-space"></div>
        <script src="./js/hmcl-history.js"></script>
      </div>

      <div id="MCUUID" class="page">
        <!-- MCUUID 页面内容 -->
        <div class="blank-space"></div>
        <h1>Minecraft UUID查询</h1>
        <div class="input-group mx-auto" style="width: 500px">
          <input
            type="text"
            class="form-control"
            id="nickname"
            placeholder="请输入用户名"
            onkeydown="handleKeyDown(event)"
          />
          <button
            class="btn btn-outline-secondary"
            type="button"
            id="button-addon2"
            onclick="getUUID()"
          >
            查询
          </button>
        </div>
        <div class="blank-space"></div>
        <div id="result"></div>
        <div class="blank-space"></div>

        <script>
          function handleKeyDown(event) {
            if (event.keyCode === 13) {
              event.preventDefault();
              getUUID();
            }
          }
          function getUUID() {
            var nickname = document.getElementById("nickname").value;
            var url =
              "https://api.yokinanya.icu/mcuuid/" +
              encodeURIComponent(nickname);

            var xhr = new XMLHttpRequest();
            xhr.open("GET", url, true);
            xhr.onreadystatechange = function () {
              if (xhr.readyState === 4 && xhr.status === 200) {
                var data = JSON.parse(xhr.responseText);
                var resultDiv = document.getElementById("result");
                resultDiv.innerHTML = "";

                if (data.uuid) {
                  var uuidPara = document.createElement("p");
                  uuidPara.textContent = "正版UUID: " + data.splitteduuid;
                  uuidPara.style.textAlign = "center";
                  resultDiv.appendChild(uuidPara);
                }
              }

              if (data.offlineuuid) {
                var offlineUUIDPara = document.createElement("p");
                offlineUUIDPara.textContent =
                  "离线UUID: " + data.offlinesplitteduuid;
                offlineUUIDPara.style.textAlign = "center";
                resultDiv.appendChild(offlineUUIDPara);
              }
            };
            xhr.send();
          }
        </script>
      </div>

      <div id="QQNickName" class="page">
        <!-- QQNickName 页面内容 -->
        <div class="blank-space"></div>
        <div class="container">
          <form class="mx-auto" style="width: 500px">
            <div class="mx-auto">
              <label class="form-label">昵称</label>
              <input type="text" class="form-control" id="nicknameInput" />
            </div>
            <div class="mb-3">
              <label class="form-label">后缀</label>
              <input type="text" class="form-control" id="suffixInput" />
            </div>
            <button
              type="submit"
              class="btn btn-primary"
              onclick="generateNickname()"
            >
              生成昵称
            </button>
            <fieldset disabled>
              <div class="mb-3">
                <label class="form-label"></label>
                <input
                  type="text"
                  class="form-control"
                  id="output"
                  style="display: none"
                />
              </div>
            </fieldset>
            <button
              class="btn btn-primary"
              onclick="copyToClipboard()"
              id="copyButton"
              style="display: none"
            >
              复制
            </button>
          </form>
        </div>
        <div class="blank-space"></div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script>
          function generateNickname() {
            var nickname = document.getElementById("nicknameInput").value;
            var suffix = document.getElementById("suffixInput").value;

            var reversedSuffix = reverseString(suffix);

            var modifiedSuffix = "\u2067" + reversedSuffix + "\u2066";
            var generatedNickname = nickname + modifiedSuffix;

            document.getElementById("output").style.display = "block";
            document.getElementById("output").value = generatedNickname;
            document.getElementById("copyButton").style.display = "block";
          }

          function copyToClipboard() {
            var output = document.getElementById("output");
            var range = document.createRange();
            range.selectNode(output);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand("copy");
            window.getSelection().removeAllRanges();
          }

          function reverseString(str) {
            return str.split("").reverse().join("");
          }
        </script>
      </div>
    </div>

    <div class="footer-container">
      <p>
        Copyright &copy; <a href="https://github.com/yokinanya">洛羽柒·绫沫</a>
      </p>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script>
      // 根据 URL 中的锚点来显示对应的子页面
      function showPageFromHash() {
        var hash = window.location.hash;
        if (hash) {
          var pageId = hash.substring(1);
          var page = document.getElementById(pageId);
          if (page) {
            // 隐藏所有子页面
            var pages = document.getElementsByClassName("page");
            for (var i = 0; i < pages.length; i++) {
              pages[i].classList.remove("active");
            }
            // 显示当前选中的子页面
            page.classList.add("active");
          }
        }
      }

      // 监听 hashchange 事件，URL 中的锚点变化时触发
      window.addEventListener("hashchange", showPageFromHash);

      // 页面加载完成时显示初始的子页面
      window.addEventListener("load", showPageFromHash);
    </script>
  </body>
</html>
